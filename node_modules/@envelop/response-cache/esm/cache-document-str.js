import { print } from 'graphql';
const documentStringByDocument = new WeakMap();
export function useCacheDocumentString() {
    return {
        onParse({ params: { source } }) {
            return function onParseEnd({ result }) {
                if (result != null && !(result instanceof Error)) {
                    documentStringByDocument.set(result, source.toString());
                }
            };
        },
    };
}
export function defaultGetDocumentString(executionArgs) {
    let documentString = documentStringByDocument.get(executionArgs.document);
    if (documentString == null) {
        documentString = print(executionArgs.document);
        documentStringByDocument.set(executionArgs.document, documentString);
    }
    return documentString;
}
